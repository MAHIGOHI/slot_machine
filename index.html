<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Decision Core | Chat Mode</title>
    <style>
        :root {
            --bg: #F3F4F6;
            --chat-bg: #FFFFFF;
            --primary: #2563EB;
            --primary-light: #EFF6FF;
            --text-dark: #1F2937;
            --text-light: #6B7280;
            --user-bubble: #2563EB;
            --ai-bubble: #FFFFFF;
            --radius: 18px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            height: 100vh;
            display: flex; flex-direction: column;
            overflow: hidden;
        }
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 16px 20px;
            border-bottom: 1px solid #E5E7EB;
            display: flex; align-items: center; justify-content: space-between;
            z-index: 10;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .brand {
            font-weight: 700; font-size: 1rem; color: var(--text-dark);
            display: flex; align-items: center; gap: 8px;
        }
        .brand-dot {
            width: 8px; height: 8px; background: #10B981;
            border-radius: 50%;
            box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
        }
        .reset-btn {
            font-size: 0.8rem; color: var(--text-light);
            background: none; border: 1px solid #E5E7EB;
            cursor: pointer; padding: 6px 12px; border-radius: 6px;
            transition: all 0.2s;
        }
        .reset-btn:hover { background: #F3F4F6; color: var(--text-dark); }
        #chat-container {
            flex: 1; overflow-y: auto;
            padding: 20px; padding-bottom: 140px;
            display: flex; flex-direction: column; gap: 16px;
            scroll-behavior: smooth;
        }
        .message {
            max-width: 85%; padding: 14px 18px;
            border-radius: var(--radius);
            font-size: 0.95rem; line-height: 1.5;
            position: relative;
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            word-wrap: break-word;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        @keyframes popIn {
            from { opacity: 0; transform: translateY(10px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .message.ai {
            background-color: var(--ai-bubble); color: var(--text-dark);
            align-self: flex-start; border-bottom-left-radius: 4px;
        }
        .message.user {
            background-color: var(--user-bubble); color: white;
            align-self: flex-end; border-bottom-right-radius: 4px;
            box-shadow: var(--shadow);
        }
        .message.system {
            background: transparent; color: var(--text-light);
            font-size: 0.75rem; align-self: center;
            text-transform: uppercase; letter-spacing: 1px;
            font-weight: 600; margin: 10px 0; padding: 0;
            border: none; box-shadow: none;
        }
        #controls {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: white;
            padding: 16px 20px 24px 20px;
            border-top: 1px solid #E5E7EB;
            z-index: 20;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
        }
        #options-grid {
            display: flex; flex-wrap: wrap; gap: 10px;
            justify-content: center;
        }
        button.option-chip {
            background: white; border: 1px solid #D1D5DB;
            color: var(--text-dark);
            padding: 12px 20px; border-radius: 24px;
            font-size: 0.9rem; font-weight: 500;
            cursor: pointer; transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            flex: 1 1 auto; max-width: 100%; text-align: center;
        }
        button.option-chip:active { transform: scale(0.96); }
        button.option-chip:hover {
            border-color: var(--primary); color: var(--primary);
            background: var(--primary-light);
        }
        .typing-indicator {
            display: flex; gap: 4px; padding: 16px 20px;
            background: var(--ai-bubble); border-radius: var(--radius);
            align-self: flex-start; border-bottom-left-radius: 4px;
            margin-bottom: 8px; width: fit-content;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .dot {
            width: 8px; height: 8px; background: #9CA3AF;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        .hidden { display: none !important; }
        .result-card {
            background: #F8FAFC; border: 1px solid #E2E8F0;
            border-radius: 12px; padding: 16px; margin-top: 10px;
        }
        .result-header { 
            font-size: 0.75rem; font-weight: 700; color: var(--primary); 
            margin-bottom: 8px; letter-spacing: 0.5px;
        }
        .result-row { margin-bottom: 12px; font-size: 0.95rem; }
        .result-row:last-child { margin-bottom: 0; }
        .result-label { 
            font-weight: 600; font-size: 0.7rem; color: var(--text-light); 
            text-transform: uppercase; margin-bottom: 4px;
        }
        .result-value { color: var(--text-dark); }
    </style>
</head>
<body>
    <header>
        <div class="brand"><div class="brand-dot"></div>AI Decision Core</div>
        <button class="reset-btn" onclick="Chat.init()">Restart</button>
    </header>
    <div id="chat-container"></div>
    <div id="controls">
        <div id="typing-ui" class="typing-indicator hidden">
            <div class="dot"></div><div class="dot"></div><div class="dot"></div>
        </div>
        <div id="options-grid"></div>
    </div>
<script>
    const DATA = {
        start: {
            text: "Hello. I am the Decision Core. I am not a chatbot; I am a logic engine designed to help you execute complex goals. What is your primary objective today?",
            options: [
                { label: "Grow on Social Media", next: "social" },
                { label: "Build a Business", next: "business" },
                { label: "Learn AI", next: "learn" },
                { label: "Create AI Agents", next: "agents" }
            ]
        },
        business: {
            text: "Building a business is an exercise in constraint management. What is your primary asset right now?",
            options: [
                { label: "I have Money (Capital)", next: "biz_money" },
                { label: "I have Time (Skill)", next: "biz_skill" },
                { label: "I have Nothing (Grit)", next: "biz_grit" }
            ]
        },
        biz_money: {
            text: "Capital allows for leverage. What is your risk tolerance?",
            options: [
                { label: "Low Risk (Compound)", next: "res_invest" },
                { label: "High Risk (Scale)", next: "res_ads" }
            ]
        },
        biz_skill: {
            text: "You are trading time for value. How will you scale?",
            options: [
                { label: "Productize (Sell Digital)", next: "res_product" },
                { label: "Agency (Sell Services)", next: "res_agency" }
            ]
        },
        biz_grit: {
            text: "The path of grit requires volume. Choose your vector.",
            options: [
                { label: "Content Arbitrage", next: "res_content" },
                { label: "Sales (High Ticket)", next: "res_sales" }
            ]
        },
        social: {
            text: "Growth requires aligning the medium with your natural strengths. How do you communicate best?",
            options: [
                { label: "Writing (Text)", next: "soc_text" },
                { label: "Speaking (Video)", next: "soc_video" },
                { label: "Design (Visuals)", next: "soc_visual" }
            ]
        },
        soc_text: {
            text: "Text audiences value density and insight. What is your angle?",
            options: [
                { label: "Curator (News/Lists)", next: "res_curator" },
                { label: "Expert (How-to)", next: "res_expert" }
            ]
        },
        soc_video: {
            text: "Video is about retention and personality.",
            options: [
                { label: "Educational", next: "res_edu_vid" },
                { label: "Entertainment", next: "res_ent_vid" }
            ]
        },
        soc_visual: {
            text: "Visual platforms require high aesthetic consistency.",
            options: [
                { label: "Trend Surfing", next: "res_trend" },
                { label: "Portfolio/Art", next: "res_art" }
            ]
        },
        learn: {
            text: "Why are you learning AI? The motive dictates the curriculum.",
            options: [
                { label: "To get a Job", next: "learn_job" },
                { label: "To build Tools", next: "res_tools" }
            ]
        },
        learn_job: {
            text: "Which layer of the stack interests you?",
            options: [
                { label: "The Math (Engineer)", next: "res_eng" },
                { label: "The Application (PM)", next: "res_pm" }
            ]
        },
        agents: {
            text: "Autonomous agents are complex loops. What is the goal?",
            options: [
                { label: "Full Autonomy", next: "ag_auto" },
                { label: "Human Assist", next: "res_copilot" }
            ]
        },
        ag_auto: {
            text: "Autonomous loops are dangerous without guardrails.",
            options: [
                { label: "Code Sandbox", next: "res_sandbox" },
                { label: "LLM Reflection", next: "res_reflect" }
            ]
        },
        res_invest: { result: true, title: "SME Acquisition", body: "Don't start from scratch. Buy a boring business with cash flow." },
        res_ads: { result: true, title: "Paid Traffic Arbitrage", body: "Use money to buy data. Run Meta Ads to high-ticket offers." },
        res_product: { result: true, title: "Digital Productization", body: "Turn your knowledge into a template or course. Sell it repeatedly." },
        res_agency: { result: true, title: "Drop-Servicing", body: "Sell the outcome, hire contractors to do the work." },
        res_content: { result: true, title: "Document the Journey", body: "You have no status. Be the 'Relatable Beginner'. Post daily." },
        res_sales: { result: true, title: "Appointment Setting", body: "Use your grit to cold DM/call. Close deals for others." },
        res_curator: { result: true, title: "The Newsletter Filter", body: "Aggregate noise. Sell the signal. Save people time." },
        res_expert: { result: true, title: "The Authority Build", body: "Solve specific painful problems on LinkedIn/X." },
        res_edu_vid: { result: true, title: "Video Essayist", body: "Deep dive content on YouTube. Focus on script writing." },
        res_ent_vid: { result: true, title: "Short Form Personality", body: "High energy, fast cuts. Optimize for dopamine." },
        res_trend: { result: true, title: "Viral Surfing", body: "Use trending audio. Volume is the only metric that matters." },
        res_art: { result: true, title: "Aesthetic Branding", body: "Pinterest/IG. Build a mood board that sells a lifestyle." },
        res_tools: { result: true, title: "The Automator", body: "Learn Zapier/Make + API calls. Connect tools together." },
        res_eng: { result: true, title: "ML Engineer", body: "Learn Linear Algebra, Python, PyTorch. Build models." },
        res_pm: { result: true, title: "AI Product Manager", body: "Learn what is possible. Focus on UX and Feasibility." },
        res_copilot: { result: true, title: "Human-in-the-Loop", body: "AI suggests, Human approves. Safest path." },
        res_sandbox: { result: true, title: "Docker Execution", body: "Isolate AI code generation in a secure container." },
        res_reflect: { result: true, title: "Chain of Thought", body: "Force the Agent to critique its own plan before executing." }
    };

    const Chat = {
        container: document.getElementById('chat-container'),
        grid: document.getElementById('options-grid'),
        typing: document.getElementById('typing-ui'),
        
        init: function() {
            this.container.innerHTML = ''; 
            this.addMessage("system", "Secure Connection Established");
            setTimeout(() => { this.step('start'); }, 500);
        },
        step: function(id) {
            const node = DATA[id];
            this.simulateThinking(() => {
                if (node.result) {
                    this.addResult(node);
                    this.showResetOption();
                } else {
                    this.addMessage('ai', node.text);
                    this.renderOptions(node.options);
                }
            });
        },
        simulateThinking: function(callback) {
            this.grid.innerHTML = ''; 
            this.typing.classList.remove('hidden');
            this.scrollToBottom();
            const delay = Math.floor(Math.random() * 600) + 600;
            setTimeout(() => {
                this.typing.classList.add('hidden');
                callback();
            }, delay);
        },
        addMessage: function(type, text) {
            const div = document.createElement('div');
            div.className = `message ${type}`;
            div.innerHTML = text;
            this.container.appendChild(div);
            this.scrollToBottom();
        },
        addResult: function(data) {
            const html = `
                <div class="result-header">RECOMMENDATION GENERATED</div>
                <div class="result-card">
                    <div class="result-row">
                        <div class="result-label">STRATEGY</div>
                        <div class="result-value" style="font-weight:600; font-size:1.1rem">${data.title}</div>
                    </div>
                    <div class="result-row">
                        <div class="result-label">EXECUTION</div>
                        <div class="result-value">${data.body}</div>
                    </div>
                </div>`;
            this.addMessage('ai', html);
        },
        renderOptions: function(options) {
            this.grid.innerHTML = '';
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-chip';
                btn.innerText = opt.label;
                btn.onclick = () => this.handleUserChoice(opt);
                this.grid.appendChild(btn);
            });
            this.scrollToBottom();
        },
        handleUserChoice: function(opt) {
            this.grid.innerHTML = ''; 
            this.addMessage('user', opt.label);
            this.step(opt.next);
        },
        showResetOption: function() {
            this.grid.innerHTML = '';
            const btn = document.createElement('button');
            btn.className = 'option-chip';
            btn.innerText = "Start New Session";
            btn.style.borderColor = "#2563EB"; btn.style.color = "#2563EB";
            btn.onclick = () => this.init();
            this.grid.appendChild(btn);
            this.scrollToBottom();
        },
        scrollToBottom: function() {
            setTimeout(() => { this.container.scrollTop = this.container.scrollHeight; }, 50);
        }
    };
    window.onload = function() { Chat.init(); };
</script>
</body>
</html>