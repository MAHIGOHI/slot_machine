<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>AI Maze Hunt</title>
<style>
body{
  margin:0;
  background:#0b0e1a;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
canvas{
  background:#11162a;
}
</style>
</head>

<body>
<canvas id="game" width="300" height="300"></canvas>

<script>
const c = document.getElementById("game");
const x = c.getContext("2d");

const size = 10;
const tile = 30;

let gameOver = false;

let player = {x:1,y:1};
let ai = {x:8,y:8};

const walls = [
  "##########",
  "#........#",
  "#.####...#",
  "#.#..#...#",
  "#.#..###.#",
  "#.#......#",
  "#.######.#",
  "#........#",
  "#......#.#",
  "##########"
];

function draw(){
  for(let y=0;y<size;y++){
    for(let x0=0;x0<size;x0++){
      x.fillStyle = walls[y][x0]=="#" ? "#1f2440" : "#0b0e1a";
      x.fillRect(x0*tile,y*tile,tile,tile);
    }
  }

  // player
  x.fillStyle = "#4f8cff";
  x.fillRect(player.x*tile,player.y*tile,tile,tile);

  // ai
  x.fillStyle = "#ff3355";
  x.fillRect(ai.x*tile,ai.y*tile,tile,tile);

  if(gameOver){
    x.fillStyle="#fff";
    x.font="16px monospace";
    x.fillText("GAME OVER",80,155);
  }
}

function move(entity,dx,dy){
  let nx = entity.x + dx;
  let ny = entity.y + dy;
  if(walls[ny][nx]=="."){
    entity.x = nx;
    entity.y = ny;
  }
}

function aiMove(){
  let dx = player.x - ai.x;
  let dy = player.y - ai.y;

  if(Math.abs(dx) > Math.abs(dy)){
    move(ai, Math.sign(dx), 0);
  }else{
    move(ai, 0, Math.sign(dy));
  }
}

function check(){
  if(player.x===ai.x && player.y===ai.y){
    gameOver = true;
  }
}

document.addEventListener("keydown",e=>{
  if(gameOver) return;

  if(e.key==="w") move(player,0,-1);
  if(e.key==="s") move(player,0,1);
  if(e.key==="a") move(player,-1,0);
  if(e.key==="d") move(player,1,0);

  aiMove();
  check();
  draw();
});

draw();
</script>
</body>
</html>